import{j as e,d as h,u as I,q,r,s as B,t as k,B as A,L as R,l as T,y as g,M as p,e as w,v as D,P as E}from"./index-COtnN8fA.js";import{B as L}from"./Breadcrumb-Du27Y_dR.js";import{P as O}from"./PaymentMethods-DGDzfuyP.js";import{S as a,P as M}from"./ProductCardSkeleton-SOHqiqXE.js";const $="_wrapper_18wh8_1",U={wrapper:$},F="_container_qi6jd_2",K="_name_qi6jd_20",W="_price_qi6jd_25",G="_description_qi6jd_30",H="_active_qi6jd_67",J="_icon_qi6jd_100",z={container:F,"image-gallery":"_image-gallery_qi6jd_8","image-item":"_image-item_qi6jd_13","product-info":"_product-info_qi6jd_20",name:K,price:W,description:G,"size-selection":"_size-selection_qi6jd_37","size-title":"_size-title_qi6jd_43","size-list":"_size-list_qi6jd_47","size-item":"_size-item_qi6jd_51",active:H,"out-of-stock":"_out-of-stock_qi6jd_72","actions-wrapper":"_actions-wrapper_qi6jd_78","add-to-cart":"_add-to-cart_qi6jd_83",icon:J,"quantity-section":"_quantity-section_qi6jd_104","quantity-input":"_quantity-input_qi6jd_114","or-separator":"_or-separator_qi6jd_123","buy-now":"_buy-now_qi6jd_145","meta-data":"_meta-data_qi6jd_160","additional-info":"_additional-info_qi6jd_169","info-item":"_info-item_qi6jd_173","info-content":"_info-content_qi6jd_194"},n=h.bind(z);function Q(){return e.jsxs("div",{className:n("container"),children:[e.jsx("div",{className:n("image-gallery"),children:Array(4).fill(0).map((d,l)=>e.jsx("div",{className:n("image-item"),children:e.jsx(a,{height:"100%",style:{aspectRatio:"3/4"}})},l))}),e.jsxs("div",{className:n("product-info"),children:[e.jsx(a,{width:"70%",height:35,style:{marginBottom:"15px"}}),e.jsx(a,{width:"20%",height:25,style:{marginBottom:"20px"}}),e.jsx("div",{style:{marginBottom:"30px"},children:e.jsx(a,{count:3})}),e.jsxs("div",{className:n("size-selection"),style:{marginBottom:"25px"},children:[e.jsx(a,{width:50,height:15,style:{marginBottom:"10px"}}),e.jsx("div",{style:{display:"flex",gap:"10px"},children:e.jsx(a,{width:45,height:40,count:4,containerClassName:n("size-list")})})]}),e.jsxs("div",{className:n("actions-wrapper"),style:{display:"flex",gap:"15px",marginBottom:"20px"},children:[e.jsx(a,{width:120,height:45})," ",e.jsx(a,{width:"100%",height:45})," "]}),e.jsx("div",{className:n("or-separator"),style:{margin:"15px 0"},children:e.jsx(a,{width:30,height:15})}),e.jsx(a,{width:"100%",height:45,style:{marginBottom:"25px"}}),e.jsx("div",{className:n("meta-data"),style:{borderTop:"1px solid #eee",paddingTop:"20px"},children:e.jsx(a,{width:"30%",height:15,count:2})}),e.jsx("div",{className:n("additional-info"),style:{marginTop:"30px"},children:e.jsx(a,{height:50,count:2,style:{marginBottom:"10px"}})})]})]})}const s=h.bind(z);function V(){const d=I(),{id:l}=q(),[i,x]=r.useState({}),[m,c]=r.useState(1),[u,f]=r.useState(),{handleGetListProductsCart:b}=r.useContext(B),[P,y]=r.useState(!1),[N,v]=r.useState(!1),S=t=>{d(w.routes.checkout,{state:[t]})},C=t=>{v(!0),T(t).then(o=>{g.success("Add to cart successfully"),b(p,"cart"),v(!1)}).catch(o=>{g.error("Something went wrong, can not add product, try again later")})};return r.useEffect(()=>{y(!0),k(l).then(t=>{x(t),t?.size?.length>0&&f(t?.size[0].name),y(!1)})},[l]),P?e.jsx(Q,{}):e.jsxs("div",{className:s("container"),children:[e.jsx("div",{className:s("image-gallery"),children:i?.images?.map((t,o)=>e.jsx("div",{className:s("image-item"),children:e.jsx("img",{src:t,onError:j=>j.target.remove(),alt:`Product ${o}`})},o))}),e.jsxs("div",{className:s("product-info"),children:[e.jsx("h1",{className:s("name"),children:i.name}),e.jsxs("p",{className:s("price"),children:["$",i?.price?.toFixed(2)]}),e.jsx("p",{className:s("description"),children:i.description}),e.jsxs("div",{className:s("size-selection"),children:[e.jsx("p",{className:s("size-title"),children:"Size: "}),e.jsx("div",{className:s("size-list"),children:i?.size?.map((t,o)=>e.jsx("button",{className:s("size-item",{active:u===t.name,"out-of-stock":Number(t.amount)<=0}),onClick:()=>f(t.name),children:t.name},o))})]}),e.jsxs("div",{className:s("actions-wrapper"),children:[e.jsxs("div",{className:s("quantity-section"),children:[e.jsx("button",{onClick:()=>c(t=>Math.max(1,t-1)),children:"-"}),e.jsx("input",{className:s("quantity-input"),type:"number",value:m,readOnly:!0}),e.jsx("button",{onClick:()=>c(t=>t+1),children:"+"})]}),e.jsx(A,{disabled:N,className:s("add-to-cart"),leftIcon:N&&e.jsx(R,{}),onClick:()=>{const t={userId:p,productId:i._id,quantity:Number(m),size:u,isMultiple:!1};C(t)},children:"ADD TO CART"})]}),e.jsx("div",{className:s("or-separator"),children:"OR"}),e.jsx("button",{className:s("buy-now"),onClick:()=>{const t={...i,userId:p,size:u,total:Number(i.price*m),quantity:Number(m)};S(t)},children:"BUY NOW"}),e.jsx(O,{}),e.jsxs("div",{className:s("meta-data"),children:[e.jsxs("p",{children:[e.jsx("strong",{children:"SKU:"})," ",i.sku]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",i.category]})]}),e.jsxs("div",{className:s("additional-info"),children:[e.jsxs("details",{className:s("info-item"),open:!0,children:[e.jsx("summary",{className:s("info-header"),children:"ADDITIONAL INFORMATION"}),e.jsxs("div",{className:s("info-content"),children:[e.jsxs("p",{children:["Size:"," ",i?.size?.reduce((t,o,j)=>t+o.name+(j===i.size.length-1?"":", "),"")]}),e.jsx("p",{children:"Material: Jeans, Polyester, Cotton"})]})]}),e.jsxs("details",{className:s("info-item"),children:[e.jsx("summary",{className:s("info-header"),children:"REVIEWS (0)"}),e.jsx("div",{className:s("info-content"),children:"No reviews yet."})]})]})]})]})}const Y={"slider-container":"_slider-container_185zn_1","slider-title":"_slider-title_185zn_10","slider-list":"_slider-list_185zn_17"},_=h.bind(Y);function X(){const{id:d}=q(),[l,i]=r.useState(!1),[x,m]=r.useState([]);return r.useEffect(()=>{i(!0),D(d).then(c=>{m(c),i(!1)}).catch(c=>{g.error("Can not get related products, please try again")})},[d]),e.jsxs("div",{className:_("slider-container"),children:[e.jsx("div",{className:_("slider-title"),children:"Related products"}),e.jsx("div",{className:_("slider-list"),children:l?Array(5).fill(0).map((c,u)=>e.jsx(M,{showATC:!0},u)):x.map(c=>e.jsx(E,{showATC:!0,item:c},c._id))})]})}const Z=h.bind(U);function ae(){const d=[{label:"Home",path:w.routes.home},{label:"Product"}];return e.jsxs("div",{className:Z("wrapper"),children:[e.jsx(L,{items:d}),e.jsx(V,{}),e.jsx(X,{})]})}export{ae as default};
